{
  "nodes": [
    {
      "id": "start",
      "text": "Would you like to indicate the reason/s you're disposing of the laptop, or would you like to head straight to extraction?",
      "options": [
        { "label": "Disposal Cause", "next": "issue" },
        { "label": "Start Component Extraction", "next": "component_extraction"}
      ]
    },
    {
      "id": "issue",
      "text": "What issue made you decide to dispose of the laptop?",
      "options": [
        { "label": "Laptop is not powering on", "next": "battery_issue" },
        { "label": "Laptop is overheating", "next": "fan_issue" },
        { "label": "Memory issue / RAM failure", "next": "ram_issue" },
        { "label": "Storage issue / Drive failure", "next": "storage_issue" },
        { "label": "Connectivity issue (Wi-Fi)", "next": "other_issue" },
        { "label": "Back", "next": "start"},
        { "label": "End", "next": "end"}
      ]
    },
    {
      "id": "component_extraction",
      "text": "What part would you like to extract?",
      "options": [
        { "label": "Battery", "next": "battery_type" },
        { "label": "Fan/s", "next": "extract_fan" },
        { "label": "RAM/s", "next": "ram_type" },
        { "label": "SSD (2.5 SATA)", "next": "extract_ssd-sata" },
        { "label": "SSD (NVMe M.2)", "next": "extract_ssd-nvme" },
        { "label": "Hard Drive (HDD)", "next": "hdd_flow" },
        { "label": "Wi-Fi Card", "next": "extract_wifi"},
        { "label": "Back", "next": "start" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "battery_issue",
      "text": "A non-powering laptop may be caused by an issue with the battery. Would you still like to extract this part?",
      "options": [
        { "label": "Yes", "next": "battery_type" },
        { "label": "No", "next": "dispose_battery" },
        { "label": "Return", "next": "issue" }
      ]
    },
    {
      "id": "battery_type",
      "text": "What type of battery does this laptop have?",
      "options": [
        { "label": "Screw-mounted (internal)", "next": "extract_battery_screwed" },
        { "label": "Tool-less removable (clip latch)", "next": "extract_battery_easy" },
        { "label": "Other / Uncertain", "next": "extract_battery_generic"}
      ]
    },
    {
      "id": "extract_battery_screwed",
      "steps": [
        { "order": 1, "action": "Locate the battery and remove the screws securing it." },
        { "order": 2, "action": "Carefully unplug the battery cable from the motherboard." },
        { "order": 3, "action": "Lift the battery straight out of its bay." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "extract_battery_easy",
      "steps": [
        { "order": 1, "action": "Slide the latch(es) on the bottom of the laptop to the unlocked position." },
        { "order": 2, "action": "Grip the exposed battery edge and pull it out of its compartment." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "extract_battery_generic",
      "steps": [
        { "order": 1, "action": "If the battery type is different (e.g., proprietary pack), consult the device's service manual or look for visible release mechanisms before attempting removal."}
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "dispose_battery",
      "instructions": [
        { "step": "Tape battery terminals or place each battery in a separate plastic bag." },
        { "step": "Bring to a designated hazardous-waste or electronics recycling drop-off." },
        { "step": "⚠️ WARNING: Never dispose of lithium-ion batteries in regular trash bins!" }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "fan_issue",
      "text": "Overheating may be caused by a cooling/fan issue. Would you still like to extract this part?",
      "options": [
        { "label": "Yes", "next": "extract_fan" },
        { "label": "No", "next": "dispose_fan" },
        { "label": "Return", "next": "issue" }
      ]
    },
    {
      "id": "extract_fan",
      "steps": [
        { "order": 1, "action": "Remove base screws and pry off the bottom cover." },
        { "order": 2, "action": "Unscrew the fan/heat-sink mounting screws." },
        { "order": 3, "action": "Unplug the fan's power cable from the motherboard." },
        { "order": 4, "action": "Lift out the fan and heatsink assembly." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "dispose_fan",
      "instructions": [
        { "step": "Separate metal and plastic parts; take to a certified e-waste recycler." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "ram_issue",
      "text": "Memory issues may be caused by a RAM failure. Would you still like to extract the RAM?",
      "options": [
        { "label": "Yes", "next": "ram_type" },
        { "label": "No", "next": "dispose_ram" },
        { "label": "Return", "next": "issue" }
      ]
    },
    {
      "id": "ram_type",
      "text": "What type of RAM installation does this laptop have?",
      "options": [
        { "label": "Clip-mounted (removable)", "next": "extract_ram" },
        { "label": "Soldered to motherboard", "next": "ram_soldered" },
        { "label": "Unsure", "next": "ram_check_type" }
      ]
    },
    {
      "id": "ram_check_type",
      "text": "Look for metal clips on the sides of the RAM module. If there are no clips and the RAM appears to be part of the motherboard, it is likely soldered.",
      "options": [
        { "label": "I see clips", "next": "extract_ram" },
        { "label": "Appears soldered", "next": "ram_soldered" }
      ]
    },
    {
      "id": "extract_ram",
      "steps": [
        { "order": 1, "action": "Push side clips outward; the RAM pops up at 45°." },
        { "order": 2, "action": "Pull the module straight out of its slot." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "ram_soldered",
      "text": "⚠️ WARNING: This RAM is soldered to the motherboard. Extraction requires specialized desoldering equipment and expertise. Consider disposing of the entire motherboard if RAM replacement is needed.",
      "instructions": [
        { "step": "Professional extraction requires: hot air station, specialized tips, flux" },
        { "step": "Risk of motherboard damage is high without proper tools and experience" },
        { "step": "Recommend consulting a professional repair service" }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "dispose_ram",
      "instructions": [
        { "step": "Ensure RAM is free of sensitive data." },
        { "step": "Take to an electronics recycling facility for proper disposal." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "storage_issue",
      "text": "Storage issues detected. Would you like to extract storage devices?",
      "options": [
        { "label": "Yes", "next": "storage_type" },
        { "label": "No", "next": "dispose_storage" },
        { "label": "Return", "next": "issue" }
      ]
    },
    {
      "id": "storage_type",
      "text": "Which storage device type?",
      "options": [
        { "label": "Hard Drive (HDD)", "next": "hdd_flow" },
        { "label": "SSD (NVMe M.2)", "next": "extract_ssd-nvme" },
        { "label": "SSD (2.5″ SATA)", "next": "extract_ssd-sata" },
        { "label": "Unsure / Other", "next": "extract_hard-drive" }
      ]
    },
    {
      "id": "hdd_flow",
      "text": "Is the HDD connected via a ribbon-cable with a flip-up locking flap?",
      "options": [
        { "label": "Yes", "next": "extract_hard-drive_motherboard" },
        { "label": "No", "next": "extract_hard-drive" }
      ]
    },
    {
      "id": "extract_hard-drive_motherboard",
      "steps": [
        { "order": 1, "action": "Flip up the locking flap on the cable connector to release it." },
        { "order": 2, "action": "Remove mounting screws, then slide the drive out." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "extract_hard-drive",
      "steps": [
        { "order": 1, "action": "Remove the battery and open the HDD access door." },
        { "order": 2, "action": "Slide the drive out by pulling its connector tab." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "extract_ssd-nvme",
      "steps": [
        { "order": 1, "action": "Open the cover to expose the M.2 slot." },
        { "order": 2, "action": "Unscrew the standoff, lift the SSD at an angle, and slide it out." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "extract_ssd-sata",
      "steps": [
        { "order": 1, "action": "Remove chassis screws and unplug SATA cables." },
        { "order": 2, "action": "Remove drive mounting screws, then slide the SSD from its bay." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "dispose_storage",
      "instructions": [
        { "step": "⚠️ WARNING: Ensure all sensitive data is securely erased!" },
        { "step": "Remove any labels containing sensitive information." },
        { "step": "Take to certified e-waste recycler for proper disposal." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "other_issue",
      "text": "Would you like to extract the Wi-Fi card?",
      "options": [
        { "label": "Yes", "next": "extract_wifi" },
        { "label": "No", "next": "dispose_wifi" },
        { "label": "Return", "next": "issue" }
      ]
    },
    {
      "id": "extract_wifi",
      "steps": [
        { "order": 1, "action": "Remove the service door and locate the mini-PCIe wireless card." },
        { "order": 2, "action": "Unscrew the mounting screw and lift off antenna leads." },
        { "order": 3, "action": "Slide the card out at a slight angle." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "dispose_wifi",
      "instructions": [
        { "step": "Remove any identifying stickers or labels." },
        { "step": "Recycle the PCB and metal components at a certified e-waste center." }
      ],
      "options": [
        { "label": "Component Extraction", "next": "component_extraction" },
        { "label": "End", "next": "end" }
      ]
    },
    {
      "id": "end",
      "text": "All detected components have been processed."
    }
  ],

  "component_labels": {
    "Battery": "battery",
    "Fan": "fan",
    "Ram": "ram",
    "SSD (2.5 SATA)": "ssd-sata",
    "SSD (NVMe M.2)": "ssd-nvme",
    "Hard Drive (HDD)": "hard-drive",
    "Wi-Fi Card": "wifi-card"
  }
}
